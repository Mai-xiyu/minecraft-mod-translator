<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Pages éƒ¨ç½²æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-item {
            background: rgba(255, 255, 255, 0.1);
            margin: 15px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #4CAF50;
        }
        
        .test-item.warning {
            border-left-color: #FF9800;
        }
        
        .test-item.error {
            border-left-color: #F44336;
        }
        
        .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .result {
            margin-top: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
        }
        
        .success {
            color: #4CAF50;
        }
        
        .warning {
            color: #FF9800;
        }
        
        .error {
            color: #F44336;
        }
        
        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª GitHub Pages éƒ¨ç½²æµ‹è¯•</h1>
            <p>Minecraftæ¨¡ç»„ç¿»è¯‘å·¥å…· - éƒ¨ç½²éªŒè¯</p>
        </div>
        
        <div class="test-item">
            <h3>ğŸ“¡ ç½‘ç»œè¿æ¥æµ‹è¯•</h3>
            <button class="btn" onclick="testNetwork()">æµ‹è¯•ç½‘ç»œè¿æ¥</button>
            <div id="networkResult" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-item">
            <h3>ğŸ“ æ–‡ä»¶åŠ è½½æµ‹è¯•</h3>
            <button class="btn" onclick="testFiles()">æµ‹è¯•æ–‡ä»¶åŠ è½½</button>
            <div id="fileResult" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-item">
            <h3>ğŸ”§ JavaScriptåŠŸèƒ½æµ‹è¯•</h3>
            <button class="btn" onclick="testJavaScript()">æµ‹è¯•JSåŠŸèƒ½</button>
            <div id="jsResult" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-item">
            <h3>ğŸ“± å“åº”å¼è®¾è®¡æµ‹è¯•</h3>
            <button class="btn" onclick="testResponsive()">æµ‹è¯•å“åº”å¼</button>
            <div id="responsiveResult" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-item">
            <h3>ğŸš€ GitHub Pagesç‰¹æ€§æµ‹è¯•</h3>
            <button class="btn" onclick="testGitHubPages()">æµ‹è¯•Pagesç‰¹æ€§</button>
            <div id="pagesResult" class="result" style="display:none;"></div>
        </div>
        
        <div class="test-item">
            <h3>ğŸ“Š æ€»ä½“è¯„ä¼°</h3>
            <button class="btn" onclick="runAllTests()">è¿è¡Œå…¨éƒ¨æµ‹è¯•</button>
            <div id="overallResult" class="result" style="display:none;"></div>
        </div>
        
        <a href="index.html" class="back-link">â† è¿”å›ä¸»åº”ç”¨</a>
    </div>

    <script>
        let testResults = {};
        
        function testNetwork() {
            const result = document.getElementById('networkResult');
            result.style.display = 'block';
            result.innerHTML = 'æ­£åœ¨æµ‹è¯•ç½‘ç»œè¿æ¥...';
            
            // æµ‹è¯•å¤–éƒ¨APIè¿æ¥ï¼ˆæ¨¡æ‹Ÿï¼‰
            const tests = [
                { name: 'GitHub API', url: 'https://api.github.com', expected: true },
                { name: 'Google API', url: 'https://www.google.com', expected: true }
            ];
            
            let passed = 0;
            result.innerHTML = '';
            
            tests.forEach(test => {
                fetch(test.url, { mode: 'no-cors' })
                    .then(() => {
                        result.innerHTML += `<span class="success">âœ“ ${test.name} è¿æ¥æ­£å¸¸</span><br>`;
                        passed++;
                    })
                    .catch(() => {
                        result.innerHTML += `<span class="warning">âš  ${test.name} è¿æ¥å—é™ï¼ˆæ­£å¸¸ç°è±¡ï¼‰</span><br>`;
                        passed++;
                    })
                    .finally(() => {
                        if (passed === tests.length) {
                            testResults.network = true;
                            result.innerHTML += '<span class="success">ç½‘ç»œæµ‹è¯•å®Œæˆ</span>';
                        }
                    });
            });
        }
        
        function testFiles() {
            const result = document.getElementById('fileResult');
            result.style.display = 'block';
            result.innerHTML = 'æ­£åœ¨æµ‹è¯•æ–‡ä»¶åŠ è½½...';
            
            const files = ['styles.css', 'script.js', 'example_en_us.json'];
            let passed = 0;
            
            result.innerHTML = '';
            
            files.forEach(file => {
                fetch(file)
                    .then(response => {
                        if (response.ok) {
                            result.innerHTML += `<span class="success">âœ“ ${file} åŠ è½½æˆåŠŸ</span><br>`;
                            passed++;
                        } else {
                            result.innerHTML += `<span class="error">âœ— ${file} åŠ è½½å¤±è´¥</span><br>`;
                        }
                    })
                    .catch(() => {
                        result.innerHTML += `<span class="error">âœ— ${file} åŠ è½½å¤±è´¥</span><br>`;
                    })
                    .finally(() => {
                        if (passed === files.length) {
                            testResults.files = true;
                            result.innerHTML += '<span class="success">æ–‡ä»¶æµ‹è¯•å®Œæˆ</span>';
                        } else if (result.innerHTML.includes('âœ—')) {
                            testResults.files = false;
                            result.innerHTML += '<span class="error">éƒ¨åˆ†æ–‡ä»¶åŠ è½½å¤±è´¥</span>';
                        }
                    });
            });
        }
        
        function testJavaScript() {
            const result = document.getElementById('jsResult');
            result.style.display = 'block';
            result.innerHTML = '';
            
            const tests = [
                {
                    name: 'ES6 æ”¯æŒ',
                    test: () => {
                        const arrow = () => 'ES6 Arrow Functions';
                        const template = `Template ${arrow()}`;
                        return template.includes('ES6');
                    }
                },
                {
                    name: 'Fetch API',
                    test: () => typeof fetch === 'function'
                },
                {
                    name: 'LocalStorage',
                    test: () => {
                        try {
                            localStorage.setItem('test', 'test');
                            localStorage.removeItem('test');
                            return true;
                        } catch (e) {
                            return false;
                        }
                    }
                },
                {
                    name: 'File API',
                    test: () => typeof FileReader === 'function'
                }
            ];
            
            let passed = 0;
            tests.forEach(test => {
                try {
                    if (test.test()) {
                        result.innerHTML += `<span class="success">âœ“ ${test.name} æ”¯æŒ</span><br>`;
                        passed++;
                    } else {
                        result.innerHTML += `<span class="error">âœ— ${test.name} ä¸æ”¯æŒ</span><br>`;
                    }
                } catch (e) {
                    result.innerHTML += `<span class="error">âœ— ${test.name} æµ‹è¯•å¤±è´¥</span><br>`;
                }
            });
            
            testResults.javascript = passed === tests.length;
            result.innerHTML += `<span class="${testResults.javascript ? 'success' : 'warning'}">JavaScriptæµ‹è¯•å®Œæˆ (${passed}/${tests.length})</span>`;
        }
        
        function testResponsive() {
            const result = document.getElementById('responsiveResult');
            result.style.display = 'block';
            
            const viewport = {
                width: window.innerWidth,
                height: window.innerHeight
            };
            
            const deviceType = viewport.width < 768 ? 'ç§»åŠ¨è®¾å¤‡' : 
                              viewport.width < 1024 ? 'å¹³æ¿è®¾å¤‡' : 'æ¡Œé¢è®¾å¤‡';
            
            result.innerHTML = `
                <span class="success">âœ“ è®¾å¤‡ç±»å‹: ${deviceType}</span><br>
                <span class="success">âœ“ è§†å£å¤§å°: ${viewport.width} x ${viewport.height}</span><br>
                <span class="success">âœ“ CSSåª’ä½“æŸ¥è¯¢æ”¯æŒ</span><br>
                <span class="success">å“åº”å¼æµ‹è¯•å®Œæˆ</span>
            `;
            
            testResults.responsive = true;
        }
        
        function testGitHubPages() {
            const result = document.getElementById('pagesResult');
            result.style.display = 'block';
            
            const isGitHubPages = location.hostname.includes('github.io');
            const hasHTTPS = location.protocol === 'https:';
            const hasCustomDomain = !location.hostname.includes('github.io') && location.hostname !== 'localhost';
            
            result.innerHTML = '';
            
            if (isGitHubPages) {
                result.innerHTML += '<span class="success">âœ“ åœ¨GitHub Pagesä¸Šè¿è¡Œ</span><br>';
            } else if (hasCustomDomain) {
                result.innerHTML += '<span class="success">âœ“ ä½¿ç”¨è‡ªå®šä¹‰åŸŸå</span><br>';
            } else {
                result.innerHTML += '<span class="warning">âš  æœ¬åœ°æˆ–å…¶ä»–ç¯å¢ƒ</span><br>';
            }
            
            if (hasHTTPS) {
                result.innerHTML += '<span class="success">âœ“ HTTPSå·²å¯ç”¨</span><br>';
            } else {
                result.innerHTML += '<span class="warning">âš  æœªä½¿ç”¨HTTPS</span><br>';
            }
            
            result.innerHTML += `<span class="success">âœ“ å½“å‰åœ°å€: ${location.href}</span><br>`;
            result.innerHTML += '<span class="success">GitHub Pagesç‰¹æ€§æµ‹è¯•å®Œæˆ</span>';
            
            testResults.pages = true;
        }
        
        function runAllTests() {
            testNetwork();
            setTimeout(() => testFiles(), 1000);
            setTimeout(() => testJavaScript(), 2000);
            setTimeout(() => testResponsive(), 3000);
            setTimeout(() => testGitHubPages(), 4000);
            setTimeout(() => showOverallResult(), 5000);
        }
        
        function showOverallResult() {
            const result = document.getElementById('overallResult');
            result.style.display = 'block';
            
            const totalTests = Object.keys(testResults).length;
            const passedTests = Object.values(testResults).filter(r => r).length;
            const score = Math.round((passedTests / totalTests) * 100);
            
            let status = '';
            if (score >= 90) {
                status = '<span class="success">ğŸ‰ ä¼˜ç§€ï¼éƒ¨ç½²å®Œå…¨æˆåŠŸ</span>';
            } else if (score >= 70) {
                status = '<span class="success">âœ… è‰¯å¥½ï¼éƒ¨ç½²åŸºæœ¬æˆåŠŸ</span>';
            } else if (score >= 50) {
                status = '<span class="warning">âš  ä¸€èˆ¬ï¼å­˜åœ¨ä¸€äº›é—®é¢˜</span>';
            } else {
                status = '<span class="error">âŒ è¾ƒå·®ï¼éœ€è¦æ£€æŸ¥é…ç½®</span>';
            }
            
            result.innerHTML = `
                <strong>æ•´ä½“è¯„ä¼°ç»“æœ:</strong><br>
                ${status}<br>
                <span class="success">é€šè¿‡æµ‹è¯•: ${passedTests}/${totalTests} (${score}%)</span><br><br>
                <strong>å»ºè®®:</strong><br>
                ${score >= 90 ? 'éƒ¨ç½²å®Œç¾ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼' :
                  score >= 70 ? 'éƒ¨ç½²åŸºæœ¬æˆåŠŸï¼Œå¯ä»¥ä½¿ç”¨ï¼Œå»ºè®®ä¼˜åŒ–ã€‚' :
                  'å»ºè®®æ£€æŸ¥éƒ¨ç½²é…ç½®æˆ–æŸ¥çœ‹æ–‡æ¡£ã€‚'}
            `;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯
        window.addEventListener('load', () => {
            console.log('GitHub Pages éƒ¨ç½²æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('å½“å‰åœ°å€:', location.href);
            console.log('ç”¨æˆ·ä»£ç†:', navigator.userAgent);
        });
    </script>
</body>
</html>
