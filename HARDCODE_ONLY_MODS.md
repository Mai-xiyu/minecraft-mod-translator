# 🔧 纯硬编码模组处理指南

> **作者：饩雨**  
> **更新时间：2025年6月10日**  
> **适用版本：v1.0及以上**

---

## 📋 概述

某些Minecraft模组完全依赖硬编码文本实现汉化，不包含传统的语言文件（如en_us.json）。本指南说明如何使用本工具处理这类模组。

## 🎯 识别纯硬编码模组

### 特征表现
- ✅ 模组JAR文件中没有`assets/*/lang/`目录
- ✅ 不包含`en_us.json`或`en_us.lang`文件
- ✅ 游戏内文本直接显示为英文，无法通过资源包汉化
- ✅ 文本内容写死在Java代码中

### 常见类型
- **小型工具模组** - 功能简单，作者直接硬编码文本
- **API类模组** - 提供接口，界面文本较少
- **早期版本模组** - 在语言系统完善前开发的模组
- **实验性模组** - 开发中的模组，暂未实现国际化

---

## 🚀 处理流程

### 第一步：上传JAR文件
1. 打开Minecraft模组翻译工具
2. 拖放或点击上传你的模组JAR文件
3. 等待文件解析完成

### 第二步：自动识别
当工具检测到没有语言文件时，会自动：
- 显示提示信息："未找到语言文件，可以使用硬编码检测功能"
- 将"开始翻译"按钮文本改为"开始硬编码检测"
- 允许直接点击按钮启动硬编码检测

### 第三步：硬编码检测
1. 点击"开始硬编码检测"按钮
2. 或者手动点击"硬编码检测"按钮
3. 在弹出的设置窗口中配置检测参数：
   - ☑️ 启用Component.literal()检测（推荐）
   - ☑️ 启用字符串字面量检测
   - ⚠️ 启用Tooltip文本检测（可选）
   - 设置最小文本长度（建议3-5字符）

### 第四步：执行扫描
1. 点击"开始扫描"按钮
2. 等待工具分析模组的字节码文件
3. 查看扫描进度和日志信息

### 第五步：查看结果
扫描完成后会显示：
- **统计信息**：发现的硬编码文本总数
- **详细列表**：每个文本的原文、翻译、位置信息
- **筛选功能**：可以选择要处理的文本

### 第六步：处理翻译
1. 检查AI生成的翻译质量
2. 手动调整不合适的翻译
3. 选择要应用的文本条目
4. 导出检测报告（推荐）
5. 可选：尝试字节码修改（实验性功能）

---

## ⚙️ 最佳配置建议

### 检测设置
```
✅ Component.literal() 检测   - 优先级最高
✅ 字符串字面量检测          - 补充检测
⚠️ Tooltip文本检测          - 根据需要启用
```

### 过滤条件
```
最小文本长度：3字符
✅ 排除纯数字
✅ 排除单个字符
```

### 处理方式
```
推荐：🔍 仅生成报告
谨慎：⚙️ 尝试字节码修改
```

---

## 📊 效果对比

### 处理前
```
游戏内显示：
- "Magic Wand"
- "A powerful magical item"
- "Right-click to activate"
- "Durability: 100/100"
```

### 处理后
```
游戏内显示：
- "魔法法杖"
- "一件强大的魔法物品"
- "右键点击激活"
- "耐久度: 100/100"
```

---

## ⚠️ 注意事项

### 安全提醒
1. **备份原文件** - 在应用任何修改前务必备份
2. **测试验证** - 修改后的模组需要在游戏中充分测试
3. **兼容性检查** - 注意模组更新后的兼容性问题

### 限制说明
1. **字节码修改是实验性功能**，可能不稳定
2. **部分硬编码文本可能无法检测**到
3. **修改后的模组可能影响数字签名**
4. **翻译质量依赖AI服务**的准确性

### 推荐做法
1. 优先使用"仅生成报告"模式
2. 手动检查和调整翻译结果
3. 建立模组专用术语表
4. 与模组作者沟通添加官方语言文件支持

---

## 🛠️ 故障排除

### Q: 扫描时提示"没有找到class文件"
**A:** 确认上传的是有效的JAR文件，不是其他格式的压缩包。

### Q: 检测到的文本很多，但大部分不是用户界面文本
**A:** 
- 提高最小文本长度设置
- 启用"排除纯数字"和"排除单个字符"
- 只保留包含大写字母或空格的文本

### Q: 翻译质量不理想
**A:**
- 使用不同的AI翻译服务
- 建立自定义术语表
- 手动调整翻译结果

### Q: 字节码修改后模组无法运行
**A:**
- 还原到备份的原始文件
- 使用"仅生成报告"模式
- 考虑其他汉化方案

---

## 📈 成功案例

### 小型工具模组
- **检测结果**：15-30个硬编码字符串
- **处理时间**：2-5分钟
- **成功率**：90%以上

### 中型功能模组
- **检测结果**：50-100个硬编码字符串
- **处理时间**：5-15分钟
- **成功率**：85%以上

### 复杂模组
- **检测结果**：100+个硬编码字符串
- **处理时间**：15-30分钟
- **成功率**：70-80%

---

## 🌟 进阶技巧

### 1. 批量处理
对于多个纯硬编码模组：
- 统一API配置
- 建立通用术语表
- 记录常见模式

### 2. 质量控制
- 对照游戏内实际效果
- 建立翻译质量检查列表
- 与社区分享经验

### 3. 持续维护
- 跟踪模组更新
- 更新翻译内容
- 反馈给模组作者

---

**🎯 目标**: 让纯硬编码模组也能享受完整的中文体验  
**👨‍💻 作者**: 饩雨  
**📅 更新时间**: 2025年6月10日  
**🔧 功能版本**: 硬编码检测专用指南 v1.0

---

*本指南专为处理纯硬编码模组而设计，配合主工具使用效果更佳。*
